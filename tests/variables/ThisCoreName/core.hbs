namespace eval lib1 {
  namespace eval pkg1 {
    namespace eval core1 {
      proc target {} {
        puts $hbs::ThisCoreName
        hbs::AddDep lib2::pkg2::core2::target
        hbs::AddDep core3::target
        puts $hbs::ThisCoreName
      }
      hbs::Register
    }
  }
}

namespace eval lib2 {
  namespace eval pkg2 {
    namespace eval core2 {
      proc target {} {
        puts $hbs::ThisCoreName
      }
      hbs::Register
    }
  }
}

namespace eval core3 {
  proc target {} {
    puts $hbs::ThisCoreName
  }
  hbs::Register
}
